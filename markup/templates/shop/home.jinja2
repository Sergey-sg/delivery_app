{% extends 'base.jinja2' %}

{% block title %}{{_('Home')}}{% endblock title %}

{% block content %}
    <div class="row">
        <div class="container col-3 border rounded">
            <div class="text-center">{{ _('Shops') }}:
                <br>
                {% for shop in shops %}
                    <p>
                        <a class="container border rounded btn btn-link" href="{{ url('home') }}?filter_shop={{ shop.slug }}">
                            {% if shop.image %}
                                <img src="{{ shop.image.url }}" alt="{{ shop.img_alt }}" style="height: 50px; padding: 3px">
                            {% endif %}
                            {{ shop.name }}
                        </a>
                    </p>
                {% endfor %}
            </div>
        </div>
        <div class="container col-8 border rounded" style="padding-bottom: 5px; overflow-y: scroll; height: 500px">
            <br>
            <div class="row justify-content-evenly">
                {% for product in object_list %}
                    <div class="col-5 p-3 border">
                        <h5 class="text-center"><a href="">{{ product.name }}</a></h5>
                        {% if product.image %}
                            <div class="text-center">
                                <img src="{{ product.image.url }}" alt="{{ product.img_alt }}" width="50%">
                            </div>
                        {% endif %}
                        <div>{{ product.description[:150] }}</div>
                        <div>{{ _('price') }}: {{ product.price }}$</div>
                        <div>{% if product.stock %}stock: {{ product.stock }}{% endif %}</div>
                        {% if product.stock != None and product.stock <= 0 %}
                            <p class="text-justify product_text">{{ _('Out of stock') }}</p>
                        {% else %}
                            <a href="{{ url('add_cart', product.id) }}">{{ _('Add to cart')}}</a>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock content %}